<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header">
    <title>Корзина</title>
</head>
<body class="d-flex flex-column h-100">
<div th:replace="fragments/navbar">Navbar</div>

<h1>Корзина</h1>

<div th:if="${message}">
    <p th:text="${message}"></p>
</div>

<div th:if="${repairPartsList}">
    <table>
        <thead>
        <tr>
            <th>Название товара</th>
            <th>Описание</th>
            <th>Цена</th>
            <th>Категория</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item : ${repairPartsList}">
            <td th:text="${item.name}"></td>
            <td th:text="${item.description}"></td>
            <td th:text="${item.price}"></td>
            <td th:text="${item.category.name}"></td>
        </tr>
        </tbody>
    </table>
</div>
<div th:object="${total}">
    <h2>Сумма: <span th:text="${total}"></span></h2>
</div>

<div th:if="${user}">
    <h3>Информация о пользователе</h3>
    <p><strong>Имя пользователя:</strong> <span th:text="${user.fullName}"></span></p>
    <p><strong>Email:</strong> <span th:text="${user.email}"></span></p>
</div>

<form action="#" th:action="@{/cart/user}" th:object="${order}"
      method="post">
    <div>
        <button type="submit" class="btn btn-success">Оформить заказ!</button>
    </div>
</form>

<footer th:replace="fragments/footer"></footer>

</body>
</html>
